{% extends "seller/base.html" %}

{% block title %}Siparişler - TarımPazarı{% endblock %}

{% block seller_content %}
<h2 class="mb-4"><i class="fas fa-shopping-bag me-2"></i>Siparişler</h2>

{% if orders %}
<div class="table-responsive">
    <table class="table table-hover bg-white shadow-sm">
        <thead class="table-light">
            <tr>
                <th>Sipariş No</th>
                <th>Müşteri</th>
                <th>Tarih</th>
                <th>Toplam Tutar</th>
                <th>Toplam Desi</th>
                <th>Gönderim</th>
                <th>Durum</th>
            </tr>
        </thead>
        <tbody>
            {% for order in orders %}
            <tr>
                <td><strong>#{{ order.id }}</strong></td>
                <td>{{ order.buyer.username }}</td>
                <td>{{ order.created_at.strftime('%d.%m.%Y %H:%M') }}</td>
                <td>{{ "%.2f"|format(order.total_price) }} ₺</td>
                <td>{{ "%.1f"|format(order.total_desi) }}</td>
                <td>
                    <span class="badge bg-{{ 'success' if order.shipping_method == 'Kargo Entegrasyonu' else 'warning' }}">
                        <i class="fas fa-{{ 'truck' if order.shipping_method == 'Kargo Entegrasyonu' else 'warehouse' }} me-1"></i>
                        {{ order.shipping_method }}
                    </span>
                </td>
                <td>
                    <span class="badge bg-{{ 'warning text-dark' if order.status == 'pending' else 'success' }}">
                        {{ order.status }}
                    </span>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="text-center py-5 bg-white rounded shadow-sm">
    <i class="fas fa-shopping-bag fa-4x text-muted mb-3"></i>
    <h4>Henüz Sipariş Yok</h4>
    <p class="text-muted">Ürünleriniz satıldığında siparişler burada görünecek.</p>
</div>
{% endif %}
{% endblock %}
